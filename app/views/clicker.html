<div ng-show="race.isVisible()" class="jumbotron">
  <h1>Race to win prize!</h1>

  <p>
    Participate in a race and win
    <span ng-repeat="(name, val) in driving.totalProduction()">
      <span ng-if="!$first && !$last">, </span><span ng-if="!$first && $last"> and </span>
      <span>{{val|longnum:2}} <ng-pluralize count="val" when="{'one':game.unit(name).unittype.label, 'other':game.unit(name).unittype.plural}"></ng-pluralize></span>
    </span>
    per race.
  </p>
  <p>
    <button ng-if="!race.isCostMet()" type="button" class="btn btn-primary btn-lg disabled">
      Can't race
    </button>
    <button ng-if="race.isCostMet()" type="button" class='btn btn-primary btn-lg' ng-click='doClick($event)' action-effect>
      <i class="fa fa-flag-checkered fliph"></i>
      RACE
      <i class="fa fa-flag-checkered"></i>
    </button>
  </p>
  <!--<div ng-hide="race.isCostMet()" class="progress" style="margin-bottom:0; height: initial">-->
  <!--<div class="btn progress-bar" role="progressbar" aria-valuenow="{{race.costMetPercent().times(1000)}}" aria-valuemin="0" aria-valuemax="1000" ng-style="{width:race.costMetPercent().times(100)+'%'}">-->
  <!--{{race.costMetPercent()|percent:{floor:true} }} {{race|estimate|duration}}-->
  <!--</div>-->
  <!--</div>-->
</div>
